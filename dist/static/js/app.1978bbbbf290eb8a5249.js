webpackJsonp([1],{NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),i=e("mtWM"),o=e.n(i),a=e("/ocq"),s={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"home"},[n("router-link",{attrs:{to:"/detail/65766"}},[this._v("富士山下")])],1)},staticRenderFns:[]};var c=e("VU/8")({name:"home"},s,!1,function(t){e("kJdb")},"data-v-30c5dd72",null).exports,l={name:"detail",components:{},data:function(){return{controls:{id:-1,line:0,isPaused:!0,duration:0,currentTime:0},song:{id:-1,name:"未知",artist:"未知",url:"",picUrl:e("aBLL"),lyric:[]}}},created:function(){var t=this.$route.params.id;console.log("[PARAMS] detail?id="+t),this.$_GetDetail(t)},destroyed:function(){clearInterval(this.controls.id)},watch:{"controls.duration":function(){console.warn("Can not autoplay on mobile, wait to find another way.")},"controls.currentTime":function(){this.controls.currentTime>=this.controls.duration&&this.$_SongToggle()},"song.id":function(){var t=this;this.song.lyric=this.$_FormatLrc(this.song.lyric),clearInterval(this.controls.id),this.controls.id=setInterval(function(){t.$_StartTimer()},100)}},methods:{$_StartTimer:function(){this.controls.duration=1e3*this.$refs.audio.duration,this.controls.currentTime=1e3*this.$refs.audio.currentTime},$_SongToggle:function(){this.controls.isPaused?this.$refs.audio.play():this.$refs.audio.pause(),this.controls.isPaused=!this.controls.isPaused},$_FormatLrc:function(t){var n=t.split("\n"),e=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g;t=[];for(var r=0;r<n.length;r++){var i=n[r],o=e.exec(i),a=i.replace(e,"").trim();o&&a&&t.push({time:60*o[1]*1e3+1e3*o[2]+10*(o[3]||0),txt:a})}return t.sort(function(t,n){return t.time-n.time}),t},$_GetDetail:function(t){var n=this;n.axios.get(n.util.baseUrl+"/detail?id="+t).then(function(t){console.log(t.data),n.song=t.data}).catch(function(t){console.error(t)})}}},u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"detail"},[e("div",{staticClass:"song_wrap"},[e("div",{staticClass:"song_disc",on:{click:function(n){t.$_SongToggle()}}},[e("div",{staticClass:"song_turn circling",class:{paused:t.controls.isPaused}},[e("img",{staticClass:"song_cover",attrs:{src:t.song.picUrl}})]),t._v(" "),t.controls.isPaused?e("span",{staticClass:"song_play"}):t._e()])]),t._v(" "),e("div",{staticClass:"lyric"},[e("h3",[t._v(t._s(t.song.name)+" - "+t._s(t.song.artist))]),t._v(" "),e("div",{staticClass:"lyric_txt"},t._l(t.song.lyric,function(n,r){return e("p",{key:r,class:{hover:t.controls.currentTime>=n.time},style:{margin:"-"+2*t.controls.line+"em 0 "+2*t.controls.line+"em 0"}},[t._v(t._s(n.txt))])}))]),t._v(" "),e("audio",{ref:"audio",attrs:{src:t.song.url,preload:""}}),t._v(" "),e("div",{staticClass:"song_bg",style:{backgroundImage:"url("+t.song.picUrl+")"}})])},staticRenderFns:[]};var d=e("VU/8")(l,u,!1,function(t){e("R73i")},"data-v-0c65d82b",null).exports;r.a.use(a.a);var f=new a.a({routes:[{path:"/",name:"home",component:c},{path:"/detail/:id",name:"detail",component:d}],scrollBehavior:function(){return{x:0,y:0}}}),p=e("pFYg"),g=e.n(p),m={baseUrl:"https://www.easy-mock.com/mock/5b06a51ba3065411030dc3c2/music",isMobile:function(){var t=!1,n=["iphone","ipod","ipad","android","mobile","blackberry","webos","incognito","webmate","bada","nokia","lg","ucweb","skyfire"],e=navigator.userAgent.toLowerCase();for(var r in n)-1!=e.indexOf(n[r])&&(t=!0);return t},isIE678:function(){return!1},isIE:function(){return!!window.VBArray},isOpera:function(){return!!window.opera},isFirefox:function(){return!!window.GeckoActiveXObject},isSafari:function(){return!(!navigator.vendor||!navigator.vendor.match(/Apple/))},isChrome:function(){return!(!window.chrome||!window.google)},isOdd:function(t){return!!(1&~~t)},isArray:function(t){return null!=t&&"object"===(void 0===t?"undefined":g()(t))&&"splice"in t&&"join"in t},isNaN:function(t){return t!=t},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},byteLen:function(t,n){n=n||2;var e=new Array(n+1).join("-");return t.replace(/[^\x00-\xff]/g,e).length},strFormat:function(t,n){var e=Array.prototype.slice.call(arguments,1);return t.replace(/\\?\#{([^{}]+)\}/gm,function(t,r){return"\\"==t.charAt(0)?t.slice(1):Number(r)>=0?e[Number(r)]:n&&void 0!==n[r]?n[r]:""})},fillZero:function(t,n){return((1<<n).toString(2)+t).slice(-n)},randomColor:function(){return"#"+fillZero((~~(Math.random()*(1<<24))).toString(16),6)},arrShuffle:function(t){for(var n=1;n<t.length;n++){var e=Math.floor(Math.random()*(n+1)),r=[t[e],t[n]];t[n]=r[0],t[e]=r[1]}return t},escapeHTML:function(t){return(t=""+t).replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")},unescapeHTML:function(t){return(t=""+t).replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&#62;/g,">").replace(/&#60;/g,"<").replace(/&#38;/g,"&")},urlJump:function(t){location.href=t},getVar:function(t){var n=new RegExp("(^|)"+t+"=([^&]*)(&|$)","gi").exec(String(location.href));return n?n[2]:""}},h={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"main"},[n("router-view")],1)},staticRenderFns:[]};var v=e("VU/8")({name:"app"},h,!1,function(t){e("sT1w")},null,null).exports;r.a.config.productionTip=!1,r.a.prototype.axios=o.a,r.a.prototype.util=m,new r.a({el:"#app",render:function(t){return t(v)},router:f,components:{app:v},template:"<app/>"})},R73i:function(t,n){},aBLL:function(t,n,e){t.exports=e.p+"static/img/disc_default.914749f.png"},kJdb:function(t,n){},sT1w:function(t,n){}},["NHnr"]);